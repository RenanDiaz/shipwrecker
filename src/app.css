@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
	--color-hit: #dc2626;
	--color-miss: #e5e7eb;
	--color-ship: #4b5563;
	--color-sunk: #7f1d1d;
	--color-water: #0ea5e9;
	--color-water-dark: #0284c7;

	/* Mobile-first responsive cell sizing */
	/* Base: ~30px cells fit 10 cells + labels in ~340px viewport */
	--cell-size: min(7.5vw, 30px);
}

/* Small screens (sm: 640px+) */
@media (min-width: 640px) {
	:root {
		--cell-size: 36px;
	}
}

/* Medium screens (md: 768px+) */
@media (min-width: 768px) {
	:root {
		--cell-size: 40px;
	}
}

/* Large screens (lg: 1024px+) */
@media (min-width: 1024px) {
	:root {
		--cell-size: 44px;
	}
}

body {
	font-family: 'Inter', system-ui, -apple-system, sans-serif;
}

/* Responsive board cell */
.board-cell {
	width: var(--cell-size);
	height: var(--cell-size);
	min-width: 28px;
	min-height: 28px;
	touch-action: manipulation; /* Better touch handling */
	-webkit-tap-highlight-color: transparent;
}

/* Board cell label (for column headers) */
.board-cell-label {
	width: var(--cell-size);
	height: calc(var(--cell-size) * 0.6);
	min-width: 28px;
}

/* Board cell height (for row labels) */
.board-cell-height {
	height: var(--cell-size);
	min-height: 28px;
}

/* Clickable cells - larger touch target indicator */
.cell-clickable {
	cursor: pointer;
}

/* Active state for touch devices */
@media (hover: none) {
	.cell-clickable:active {
		transform: scale(0.95);
		filter: brightness(1.3);
	}
}

.cell-water {
	background: linear-gradient(135deg, var(--color-water) 0%, var(--color-water-dark) 100%);
}

.cell-hit {
	background-color: var(--color-hit);
}

.cell-miss {
	background-color: var(--color-miss);
}

.cell-ship {
	background-color: var(--color-ship);
}

.cell-sunk {
	background-color: var(--color-sunk);
}

.cell-hover:hover {
	filter: brightness(1.2);
	cursor: pointer;
}

.cell-valid {
	background-color: rgba(34, 197, 94, 0.6);
}

.cell-invalid {
	background-color: rgba(239, 68, 68, 0.6);
}

@keyframes ripple {
	0% {
		transform: scale(0);
		opacity: 1;
	}
	100% {
		transform: scale(2);
		opacity: 0;
	}
}

@keyframes shake {
	0%, 100% { transform: translateX(0); }
	25% { transform: translateX(-5px); }
	75% { transform: translateX(5px); }
}

@keyframes target-pulse {
	0%, 100% {
		opacity: 1;
		transform: scale(1);
	}
	50% {
		opacity: 0.7;
		transform: scale(0.95);
	}
}

@keyframes sunk-flash {
	0% {
		background-color: var(--color-hit);
		transform: scale(1);
	}
	25% {
		background-color: #fef08a;
		transform: scale(1.1);
	}
	50% {
		background-color: var(--color-hit);
		transform: scale(1);
	}
	75% {
		background-color: var(--color-sunk);
		transform: scale(0.95);
	}
	100% {
		background-color: var(--color-sunk);
		transform: scale(1);
	}
}

@keyframes cell-pop {
	0% {
		opacity: 0;
		transform: scale(0.8);
	}
	70% {
		transform: scale(1.05);
	}
	100% {
		opacity: 1;
		transform: scale(1);
	}
}

.animate-ripple {
	animation: ripple 0.6s ease-out forwards;
}

.animate-shake {
	animation: shake 0.3s ease-in-out;
}

.animate-target-pulse {
	animation: target-pulse 0.8s ease-in-out infinite;
}

.animate-sunk {
	animation: sunk-flash 0.6s ease-out, shake 0.4s ease-in-out 0.1s;
}

/* Cell entrance animation */
.cell-entrance {
	transition: opacity 0.3s ease-out, transform 0.3s ease-out;
}

/* Target cell styling */
.cell-target {
	box-shadow: 0 0 12px 2px rgba(248, 113, 113, 0.6);
}

/* Improved mobile touch feedback */
@media (hover: none) {
	.cell-clickable:active {
		transform: scale(0.92);
		filter: brightness(1.4);
		transition: transform 0.1s ease-out, filter 0.1s ease-out;
	}

	/* Better touch feedback for buttons */
	button:active {
		transform: scale(0.97);
	}
}

/* Larger touch targets on mobile */
@media (max-width: 400px) {
	.board-cell {
		min-width: 32px;
		min-height: 32px;
	}
}
